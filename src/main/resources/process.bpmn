<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_0fr9mxs" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0">
  <bpmn:collaboration id="Collaboration_1j59c5w">
    <bpmn:participant id="Participant_0hu63x2" processRef="camunda-pizza-process" />
  </bpmn:collaboration>
  <bpmn:process id="camunda-pizza-process" isExecutable="true">
    <bpmn:laneSet id="LaneSet_1j1ip94">
      <bpmn:lane id="ServiceWork">
        <bpmn:flowNodeRef>CheckShopOpen_ServiceTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>IsPizzaAvailable_Gateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>BackToPizzaPick_ThrowLink</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ValidateAndCheckAvailability_ServiceTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>CheckAvailableDrivers_ServiceTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>SendRequestToDriver_ServiceTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>WaitingForDriverToRespond_EventBasedGateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>GoBackCheckDrivers_CatchLink</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>CheckShopOpen_Error</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>DriverDidntRespond_Timer</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>DriverRespondedMessage_CatchMessage</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>GoBackCheckDrivers_ThrowLink</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>DriverFoundMessage_ThrowMessage</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>AfterCollectingOrderAndGettingDriver_ParallelGateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>AddDriverFee_Script</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExtrasChosen_Gateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>AfterExtras_Gateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>AddBigBagFee_Script</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ReserveExtras_ServiceTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>DownloadExtrasForShop_ServiceTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>CollctingOrderAndGettingDriver_ParallelGateway</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="UserInteractions">
        <bpmn:flowNodeRef>PickPizza_UserTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>BackToPizzaPick_CatchLink</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ShowThankYouPage_UserTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ShowThankYouPage_Timer</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>PickExtras_UserTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>AfterShowUnavailablePageTimer_EndEvent</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ShowCollectingOrderPage_UserTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>DriverFoundMessage_CatchMessage</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ShowUnavailablePage_UserTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ShowUnavailablePage_Timer</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:serviceTask id="CheckShopOpen_ServiceTask" name="Check Shop Open" camunda:delegateExpression="${checkShopOpenDelegate}">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterStartEvent_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterCheckShopOpenServiceTask_Flow</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="PickPizza_UserTask" name="Pick pizza" camunda:candidateUsers="demo">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>BackToPizzaPickCatchEvent_Flow</bpmn:incoming>
      <bpmn:incoming>AfterCheckShopOpenServiceTask_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterPickPizzaUserTask_Flow</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="IsPizzaAvailable_Gateway" name="Is available?" default="PizzaNotAvailable_Flow">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterValidateAndCheckAvailabilityServiceTask_Flow</bpmn:incoming>
      <bpmn:outgoing>PizzaAvailable_Flow</bpmn:outgoing>
      <bpmn:outgoing>PizzaNotAvailable_Flow</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:intermediateThrowEvent id="BackToPizzaPick_ThrowLink" name="Back to pizza pick">
      <bpmn:incoming>PizzaNotAvailable_Flow</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_06ge401" name="BackToPickLink" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="BackToPizzaPick_CatchLink" name="Back to pizza pick">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>BackToPizzaPickCatchEvent_Flow</bpmn:outgoing>
      <bpmn:linkEventDefinition id="LinkEventDefinition_0uwpgfg" name="BackToPickLink" />
    </bpmn:intermediateCatchEvent>
    <bpmn:serviceTask id="ValidateAndCheckAvailability_ServiceTask" name="Validate and check availability" camunda:delegateExpression="${checkAvailabilityDelegate}">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterPickPizzaUserTask_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterValidateAndCheckAvailabilityServiceTask_Flow</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>AfterStartEvent_Flow</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="CheckAvailableDrivers_ServiceTask" name="Check available drivers" camunda:delegateExpression="${universalDelegate}">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
        <camunda:inputOutput>
          <camunda:inputParameter name="UNIVERSAL_MESSAGE">Checking available drivers</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>CheckingDrivers_Flow</bpmn:incoming>
      <bpmn:incoming>AfterGoBackCheckDriversCatchLink_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterCheckAvailableDriversServiceTask_Flow</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="SendRequestToDriver_ServiceTask" name="Send request to the driver" camunda:class="pl.agawrysiuk.camunda.delegate.HiddenClassDelegate">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterCheckAvailableDriversServiceTask_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterSendRequestToDriverServiceTask_Flow</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:eventBasedGateway id="WaitingForDriverToRespond_EventBasedGateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterSendRequestToDriverServiceTask_Flow</bpmn:incoming>
      <bpmn:outgoing>DriverResponded_Flow</bpmn:outgoing>
      <bpmn:outgoing>DriverDidntRespond_Flow</bpmn:outgoing>
    </bpmn:eventBasedGateway>
    <bpmn:boundaryEvent id="CheckShopOpen_Error" attachedToRef="CheckShopOpen_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>AfterCheckShopError_Flow</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1sw4gdr" errorRef="Error_0j8j5t7" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="AfterValidateAndCheckAvailabilityServiceTask_Flow" sourceRef="ValidateAndCheckAvailability_ServiceTask" targetRef="IsPizzaAvailable_Gateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterPickPizzaUserTask_Flow" sourceRef="PickPizza_UserTask" targetRef="ValidateAndCheckAvailability_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterCheckShopError_Flow" sourceRef="CheckShopOpen_Error" targetRef="ShowUnavailablePage_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterShowUnavailablePageTimer_Flow" sourceRef="ShowUnavailablePage_Timer" targetRef="AfterShowUnavailablePageTimer_EndEvent">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterStartEvent_Flow" sourceRef="StartEvent_1" targetRef="CheckShopOpen_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="PizzaAvailable_Flow" name="Yes" sourceRef="IsPizzaAvailable_Gateway" targetRef="DownloadExtrasForShop_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${pizzaAvailable}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="PizzaNotAvailable_Flow" name="No" sourceRef="IsPizzaAvailable_Gateway" targetRef="BackToPizzaPick_ThrowLink">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="BackToPizzaPickCatchEvent_Flow" sourceRef="BackToPizzaPick_CatchLink" targetRef="PickPizza_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterDownloadExtrasForShopServiceTask_Flow" sourceRef="DownloadExtrasForShop_ServiceTask" targetRef="PickExtras_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterPickExtrasUserTask_Flow" sourceRef="PickExtras_UserTask" targetRef="ExtrasChosen_Gateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterReserveExtrasServiceTask_Flow" sourceRef="ReserveExtras_ServiceTask" targetRef="AddBigBagFee_Script">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="CheckingDrivers_Flow" sourceRef="CollctingOrderAndGettingDriver_ParallelGateway" targetRef="CheckAvailableDrivers_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterCheckAvailableDriversServiceTask_Flow" sourceRef="CheckAvailableDrivers_ServiceTask" targetRef="SendRequestToDriver_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterSendRequestToDriverServiceTask_Flow" sourceRef="SendRequestToDriver_ServiceTask" targetRef="WaitingForDriverToRespond_EventBasedGateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="DriverResponded_Flow" sourceRef="WaitingForDriverToRespond_EventBasedGateway" targetRef="DriverRespondedMessage_CatchMessage">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="DriverDidntRespond_Flow" sourceRef="WaitingForDriverToRespond_EventBasedGateway" targetRef="DriverDidntRespond_Timer">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:intermediateCatchEvent id="DriverRespondedMessage_CatchMessage" name="Driver responded">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>DriverResponded_Flow</bpmn:incoming>
      <bpmn:outgoing>DriverRespondedCatchMessage_Flow</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0f12nrk" messageRef="Message_1re4g3g" />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="DriverDidntRespond_Timer" name="Driver didn&#39;t respond in time">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>DriverDidntRespond_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterDriverDidntRespondTimer_Flow</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0emu7rs">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT1M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="AfterDriverDidntRespondTimer_Flow" sourceRef="DriverDidntRespond_Timer" targetRef="GoBackCheckDrivers_ThrowLink">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:intermediateThrowEvent id="GoBackCheckDrivers_ThrowLink" name="Going back to checking drivers">
      <bpmn:incoming>AfterDriverDidntRespondTimer_Flow</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_00dtw43" name="GoBackCheckDriversLink" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="GoBackCheckDrivers_CatchLink" name="Going back to checking drivers">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>AfterGoBackCheckDriversCatchLink_Flow</bpmn:outgoing>
      <bpmn:linkEventDefinition id="LinkEventDefinition_19opeo2" name="GoBackCheckDriversLink" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="AfterGoBackCheckDriversCatchLink_Flow" sourceRef="GoBackCheckDrivers_CatchLink" targetRef="CheckAvailableDrivers_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="ShowThankYouPage_UserTask" name="Show Thank you page">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterAfterCollctingOrderAndGettingDriverParallelGateway_Flow</bpmn:incoming>
    </bpmn:userTask>
    <bpmn:intermediateThrowEvent id="DriverFoundMessage_ThrowMessage" name="Inform user about driver found">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
        <camunda:inputOutput>
          <camunda:inputParameter name="MESSAGE_NAME">DriverFoundMessage</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>DriverRespondedCatchMessage_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterDriverFoundThrowMessage_Flow</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0xg9ccg" messageRef="Message_1l4pl3d" camunda:delegateExpression="${sendMessageDelegate}" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="DriverRespondedCatchMessage_Flow" sourceRef="DriverRespondedMessage_CatchMessage" targetRef="DriverFoundMessage_ThrowMessage">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="DriverFoundCatchMessage_Flow" sourceRef="DriverFoundMessage_CatchMessage" targetRef="AfterCollectingOrderAndGettingDriver_ParallelGateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterDriverFoundThrowMessage_Flow" sourceRef="DriverFoundMessage_ThrowMessage" targetRef="AddDriverFee_Script">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:parallelGateway id="AfterCollectingOrderAndGettingDriver_ParallelGateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>DriverFoundCatchMessage_Flow</bpmn:incoming>
      <bpmn:incoming>AfterAddDriverFeeScript_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterAfterCollctingOrderAndGettingDriverParallelGateway_Flow</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="AfterAddDriverFeeScript_Flow" sourceRef="AddDriverFee_Script" targetRef="AfterCollectingOrderAndGettingDriver_ParallelGateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:scriptTask id="AddDriverFee_Script" name="Add driver fee" scriptFormat="JavaScript" camunda:resource="classpath://addDriverFee.js">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterDriverFoundThrowMessage_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterAddDriverFeeScript_Flow</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="AfterAfterCollctingOrderAndGettingDriverParallelGateway_Flow" sourceRef="AfterCollectingOrderAndGettingDriver_ParallelGateway" targetRef="ShowThankYouPage_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterShowThankYouPageTimer_Flow" sourceRef="ShowThankYouPage_Timer" targetRef="EndEvent_1">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:boundaryEvent id="ShowThankYouPage_Timer" attachedToRef="ShowThankYouPage_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>AfterShowThankYouPageTimer_Flow</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1inodis">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT1M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:exclusiveGateway id="ExtrasChosen_Gateway" name="Extras chosen?" default="ExtrasNotChosen_Flow">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterPickExtrasUserTask_Flow</bpmn:incoming>
      <bpmn:outgoing>ExtrasChosen_Flow</bpmn:outgoing>
      <bpmn:outgoing>ExtrasNotChosen_Flow</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="ExtrasChosen_Flow" name="Yes" sourceRef="ExtrasChosen_Gateway" targetRef="ReserveExtras_ServiceTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${extras.size() &gt; 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="AfterExtras_Gateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>ExtrasNotChosen_Flow</bpmn:incoming>
      <bpmn:incoming>AfterAddBigBagScript_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterAfterExtrasGateway_Flow</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="AfterAfterExtrasGateway_Flow" sourceRef="AfterExtras_Gateway" targetRef="CollctingOrderAndGettingDriver_ParallelGateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="ExtrasNotChosen_Flow" name="No" sourceRef="ExtrasChosen_Gateway" targetRef="AfterExtras_Gateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="AfterAddBigBagScript_Flow" sourceRef="AddBigBagFee_Script" targetRef="AfterExtras_Gateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:scriptTask id="AddBigBagFee_Script" name="Add big bag fee" scriptFormat="JavaScript">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterReserveExtrasServiceTask_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterAddBigBagScript_Flow</bpmn:outgoing>
      <bpmn:script>var price = execution.getVariable('price');
execution.setVariable('price', price + 2);</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="ReserveExtras_ServiceTask" name="Reserve extras" camunda:delegateExpression="${universalDelegate}">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
        <camunda:inputOutput>
          <camunda:inputParameter name="UNIVERSAL_MESSAGE">Reserving extras</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>ExtrasChosen_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterReserveExtrasServiceTask_Flow</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="DownloadExtrasForShop_ServiceTask" name="Download Extras for Shop" camunda:expression="${execution.setVariable(&#39;extrasDownloaded&#39;, true)}">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>PizzaAvailable_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterDownloadExtrasForShopServiceTask_Flow</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="PickExtras_UserTask" name="Pick extras">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterDownloadExtrasForShopServiceTask_Flow</bpmn:incoming>
      <bpmn:outgoing>AfterPickExtrasUserTask_Flow</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="AfterCheckShopOpenServiceTask_Flow" sourceRef="CheckShopOpen_ServiceTask" targetRef="PickPizza_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:parallelGateway id="CollctingOrderAndGettingDriver_ParallelGateway">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterAfterExtrasGateway_Flow</bpmn:incoming>
      <bpmn:outgoing>CheckingDrivers_Flow</bpmn:outgoing>
      <bpmn:outgoing>CollectingOrder_Flow</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="CollectingOrder_Flow" sourceRef="CollctingOrderAndGettingDriver_ParallelGateway" targetRef="ShowCollectingOrderPage_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="take" />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="AfterShowUnavailablePageTimer_EndEvent">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterShowUnavailablePageTimer_Flow</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_13gavq2" />
    </bpmn:endEvent>
    <bpmn:endEvent id="EndEvent_1">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterShowThankYouPageTimer_Flow</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_0wh3w20" />
    </bpmn:endEvent>
    <bpmn:userTask id="ShowCollectingOrderPage_UserTask" name="Show Collecting Order page with loader">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>CollectingOrder_Flow</bpmn:incoming>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="DriverFoundMessage_CatchMessage" name="Driver found information received" attachedToRef="ShowCollectingOrderPage_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>DriverFoundCatchMessage_Flow</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_06eoaqo" messageRef="Message_1l4pl3d" />
    </bpmn:boundaryEvent>
    <bpmn:userTask id="ShowUnavailablePage_UserTask" name="Show Unavailable Page">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>AfterCheckShopError_Flow</bpmn:incoming>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="ShowUnavailablePage_Timer" attachedToRef="ShowUnavailablePage_UserTask">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${logListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>AfterShowUnavailablePageTimer_Flow</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1m0pyhr">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT1M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:textAnnotation id="TextAnnotation_1qsnmv1">
      <bpmn:text>Pizza names starting with 'H' are not served</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0qb2dvd" sourceRef="ValidateAndCheckAvailability_ServiceTask" targetRef="TextAnnotation_1qsnmv1" />
    <bpmn:textAnnotation id="TextAnnotation_193i4pd">
      <bpmn:text>shopId must be Integer and bigger than zero</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0wktra0" sourceRef="CheckShopOpen_ServiceTask" targetRef="TextAnnotation_193i4pd" />
    <bpmn:textAnnotation id="TextAnnotation_1hzmukn">
      <bpmn:text>Setting always "true" for this example</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_05esxzg" sourceRef="DownloadExtrasForShop_ServiceTask" targetRef="TextAnnotation_1hzmukn" />
    <bpmn:textAnnotation id="TextAnnotation_1y5zsnk">
      <bpmn:text>Needs to start with "shopId"</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1rk9oit" sourceRef="StartEvent_1" targetRef="TextAnnotation_1y5zsnk" />
    <bpmn:textAnnotation id="TextAnnotation_07uv725">
      <bpmn:text>Adds pizza name to the variable "pizzaName"</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1i3ia5g" sourceRef="PickPizza_UserTask" targetRef="TextAnnotation_07uv725" />
  </bpmn:process>
  <bpmn:message id="Message_1l4pl3d" name="DriverFoundMessage" />
  <bpmn:message id="Message_1re4g3g" name="DriverRespondedMessage" />
  <bpmn:error id="Error_0j8j5t7" name="ShopClosedOrNotExistingError" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1j59c5w">
      <bpmndi:BPMNShape id="Participant_0hu63x2_di" bpmnElement="Participant_0hu63x2" isHorizontal="true">
        <dc:Bounds x="159" y="80" width="4111" height="840" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_14yc6bt_di" bpmnElement="UserInteractions" isHorizontal="true">
        <dc:Bounds x="189" y="80" width="4081" height="410" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_01gv45m_di" bpmnElement="ServiceWork" isHorizontal="true">
        <dc:Bounds x="189" y="490" width="4081" height="430" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_11zzhnd_di" bpmnElement="AfterCheckShopOpenServiceTask_Flow">
        <di:waypoint x="450" y="760" />
        <di:waypoint x="540" y="760" />
        <di:waypoint x="540" y="387" />
        <di:waypoint x="610" y="387" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kyjdaq_di" bpmnElement="AfterAddBigBagScript_Flow">
        <di:waypoint x="1970" y="610" />
        <di:waypoint x="2000" y="610" />
        <di:waypoint x="2000" y="735" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_174eliw_di" bpmnElement="ExtrasNotChosen_Flow">
        <di:waypoint x="1695" y="760" />
        <di:waypoint x="1975" y="760" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1713" y="743" width="14" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_071pi9y_di" bpmnElement="AfterAfterExtrasGateway_Flow">
        <di:waypoint x="2025" y="760" />
        <di:waypoint x="2070" y="760" />
        <di:waypoint x="2070" y="610" />
        <di:waypoint x="2125" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g7df5x_di" bpmnElement="ExtrasChosen_Flow">
        <di:waypoint x="1670" y="735" />
        <di:waypoint x="1670" y="610" />
        <di:waypoint x="1710" y="610" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1676" y="693" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lv2wgh_di" bpmnElement="AfterShowThankYouPageTimer_Flow">
        <di:waypoint x="4028" y="387" />
        <di:waypoint x="4092" y="387" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0aeg5sf_di" bpmnElement="AfterAfterCollctingOrderAndGettingDriverParallelGateway_Flow">
        <di:waypoint x="3625" y="760" />
        <di:waypoint x="3770" y="760" />
        <di:waypoint x="3770" y="387" />
        <di:waypoint x="3910" y="387" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xy76wt_di" bpmnElement="AfterAddDriverFeeScript_Flow">
        <di:waypoint x="3410" y="760" />
        <di:waypoint x="3575" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1s6myfr_di" bpmnElement="AfterDriverFoundThrowMessage_Flow">
        <di:waypoint x="3158" y="760" />
        <di:waypoint x="3310" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1l1jsgx_di" bpmnElement="DriverFoundCatchMessage_Flow">
        <di:waypoint x="2918" y="390" />
        <di:waypoint x="3600" y="390" />
        <di:waypoint x="3600" y="735" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16ar0p7_di" bpmnElement="DriverRespondedCatchMessage_Flow">
        <di:waypoint x="2868" y="680" />
        <di:waypoint x="2970" y="680" />
        <di:waypoint x="2970" y="760" />
        <di:waypoint x="3122" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0aox6br_di" bpmnElement="AfterGoBackCheckDriversCatchLink_Flow">
        <di:waypoint x="2320" y="628" />
        <di:waypoint x="2320" y="720" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1f8enaf_di" bpmnElement="AfterDriverDidntRespondTimer_Flow">
        <di:waypoint x="2868" y="850" />
        <di:waypoint x="2952" y="850" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13vstx9_di" bpmnElement="DriverDidntRespond_Flow">
        <di:waypoint x="2730" y="785" />
        <di:waypoint x="2730" y="850" />
        <di:waypoint x="2832" y="850" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1g28t7q_di" bpmnElement="DriverResponded_Flow">
        <di:waypoint x="2730" y="735" />
        <di:waypoint x="2730" y="680" />
        <di:waypoint x="2832" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1r4zfdo_di" bpmnElement="AfterSendRequestToDriverServiceTask_Flow">
        <di:waypoint x="2580" y="760" />
        <di:waypoint x="2705" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0keuzn5_di" bpmnElement="AfterCheckAvailableDriversServiceTask_Flow">
        <di:waypoint x="2370" y="760" />
        <di:waypoint x="2480" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jrn278_di" bpmnElement="CheckingDrivers_Flow">
        <di:waypoint x="2150" y="635" />
        <di:waypoint x="2150" y="760" />
        <di:waypoint x="2270" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1u3zani_di" bpmnElement="AfterReserveExtrasServiceTask_Flow">
        <di:waypoint x="1810" y="610" />
        <di:waypoint x="1870" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mljidx_di" bpmnElement="AfterPickExtrasUserTask_Flow">
        <di:waypoint x="1510" y="387" />
        <di:waypoint x="1580" y="387" />
        <di:waypoint x="1580" y="760" />
        <di:waypoint x="1645" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1n38zcb_di" bpmnElement="AfterDownloadExtrasForShopServiceTask_Flow">
        <di:waypoint x="1280" y="760" />
        <di:waypoint x="1340" y="760" />
        <di:waypoint x="1340" y="387" />
        <di:waypoint x="1410" y="387" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07o8hlz_di" bpmnElement="BackToPizzaPickCatchEvent_Flow">
        <di:waypoint x="660" y="258" />
        <di:waypoint x="660" y="347" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_009skp7_di" bpmnElement="PizzaNotAvailable_Flow">
        <di:waypoint x="1060" y="735" />
        <di:waypoint x="1060" y="668" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1068" y="713" width="14" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vyh89a_di" bpmnElement="PizzaAvailable_Flow">
        <di:waypoint x="1085" y="760" />
        <di:waypoint x="1180" y="760" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1098" y="743" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08yqs9h_di" bpmnElement="AfterStartEvent_Flow">
        <di:waypoint x="270" y="258" />
        <di:waypoint x="270" y="760" />
        <di:waypoint x="350" y="760" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="232" y="513" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1owahxl_di" bpmnElement="AfterShowUnavailablePageTimer_Flow">
        <di:waypoint x="400" y="329" />
        <di:waypoint x="400" y="258" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m1nk1x_di" bpmnElement="AfterCheckShopError_Flow">
        <di:waypoint x="400" y="702" />
        <di:waypoint x="400" y="427" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_16gzt2m_di" bpmnElement="AfterPickPizzaUserTask_Flow">
        <di:waypoint x="710" y="387" />
        <di:waypoint x="780" y="387" />
        <di:waypoint x="780" y="760" />
        <di:waypoint x="860" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_132swvq_di" bpmnElement="AfterValidateAndCheckAvailabilityServiceTask_Flow">
        <di:waypoint x="960" y="760" />
        <di:waypoint x="1035" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d37mc8_di" bpmnElement="CollectingOrder_Flow">
        <di:waypoint x="2150" y="585" />
        <di:waypoint x="2150" y="387" />
        <di:waypoint x="2800" y="387" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0hk27bq_di" bpmnElement="CheckShopOpen_ServiceTask">
        <dc:Bounds x="350" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_08mft2c_di" bpmnElement="PickPizza_UserTask">
        <dc:Bounds x="610" y="347" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1g6uo4c_di" bpmnElement="IsPizzaAvailable_Gateway" isMarkerVisible="true">
        <dc:Bounds x="1035" y="735" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1029" y="792" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ewpagg_di" bpmnElement="BackToPizzaPick_ThrowLink">
        <dc:Bounds x="1042" y="632" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1016" y="602" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0o7u1yl_di" bpmnElement="BackToPizzaPick_CatchLink">
        <dc:Bounds x="642" y="222" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="616" y="192" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0tw6vsc_di" bpmnElement="ValidateAndCheckAvailability_ServiceTask">
        <dc:Bounds x="860" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="252" y="222" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ou0dmb_di" bpmnElement="CheckAvailableDrivers_ServiceTask">
        <dc:Bounds x="2270" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1do7x7h_di" bpmnElement="SendRequestToDriver_ServiceTask">
        <dc:Bounds x="2480" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0fir282_di" bpmnElement="WaitingForDriverToRespond_EventBasedGateway">
        <dc:Bounds x="2705" y="735" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0dvinc3_di" bpmnElement="DriverRespondedMessage_CatchMessage">
        <dc:Bounds x="2832" y="662" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2808" y="705" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0dkhfex_di" bpmnElement="DriverDidntRespond_Timer">
        <dc:Bounds x="2832" y="832" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2812" y="875" width="76" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1l28i3z_di" bpmnElement="GoBackCheckDrivers_ThrowLink">
        <dc:Bounds x="2952" y="832" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2930" y="875" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1xe5nyj_di" bpmnElement="GoBackCheckDrivers_CatchLink">
        <dc:Bounds x="2302" y="592" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2280" y="555" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mpmp1p_di" bpmnElement="ShowThankYouPage_UserTask">
        <dc:Bounds x="3910" y="347" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_097v07y_di" bpmnElement="DriverFoundMessage_ThrowMessage">
        <dc:Bounds x="3122" y="742" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3097" y="785" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0idmjno_di" bpmnElement="AfterCollectingOrderAndGettingDriver_ParallelGateway">
        <dc:Bounds x="3575" y="735" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06oax6s_di" bpmnElement="AddDriverFee_Script">
        <dc:Bounds x="3310" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0slytk6_di" bpmnElement="ExtrasChosen_Gateway" isMarkerVisible="true">
        <dc:Bounds x="1645" y="735" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1632" y="792" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1icunne_di" bpmnElement="AfterExtras_Gateway" isMarkerVisible="true">
        <dc:Bounds x="1975" y="735" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1j8zdhl_di" bpmnElement="AddBigBagFee_Script">
        <dc:Bounds x="1870" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ac2gqg_di" bpmnElement="ReserveExtras_ServiceTask">
        <dc:Bounds x="1710" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ak7c1h_di" bpmnElement="DownloadExtrasForShop_ServiceTask">
        <dc:Bounds x="1180" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1shvyhm_di" bpmnElement="PickExtras_UserTask">
        <dc:Bounds x="1410" y="347" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1qsnmv1_di" bpmnElement="TextAnnotation_1qsnmv1">
        <dc:Bounds x="780" y="840" width="187" height="40" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_193i4pd_di" bpmnElement="TextAnnotation_193i4pd">
        <dc:Bounds x="290" y="837" width="201" height="45" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1hzmukn_di" bpmnElement="TextAnnotation_1hzmukn">
        <dc:Bounds x="1130" y="831" width="165.03339140534263" height="58.07200929152149" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1y5zsnk_di" bpmnElement="TextAnnotation_1y5zsnk">
        <dc:Bounds x="290" y="140" width="99.99274099883856" height="39.48896631823461" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_07uv725_di" bpmnElement="TextAnnotation_07uv725">
        <dc:Bounds x="710" y="290" width="160" height="37" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ska8y7_di" bpmnElement="CollctingOrderAndGettingDriver_ParallelGateway">
        <dc:Bounds x="2125" y="585" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_112vxkt_di" bpmnElement="AfterShowUnavailablePageTimer_EndEvent">
        <dc:Bounds x="382" y="222" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_01cji9l_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="4092" y="369" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hh29nu_di" bpmnElement="ShowCollectingOrderPage_UserTask">
        <dc:Bounds x="2800" y="347" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1mq72wq_di" bpmnElement="ShowUnavailablePage_UserTask">
        <dc:Bounds x="350" y="347" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0yi92o1_di" bpmnElement="ShowThankYouPage_Timer">
        <dc:Bounds x="3992" y="369" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_07gzm5m_di" bpmnElement="CheckShopOpen_Error">
        <dc:Bounds x="382" y="702" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0qb2dvd_di" bpmnElement="Association_0qb2dvd">
        <di:waypoint x="876" y="800" />
        <di:waypoint x="843" y="840" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0wktra0_di" bpmnElement="Association_0wktra0">
        <di:waypoint x="374" y="800" />
        <di:waypoint x="350" y="837" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_05esxzg_di" bpmnElement="Association_05esxzg">
        <di:waypoint x="1207" y="800" />
        <di:waypoint x="1189" y="831" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1rk9oit_di" bpmnElement="Association_1rk9oit">
        <di:waypoint x="281" y="226" />
        <di:waypoint x="320" y="179" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1i3ia5g_di" bpmnElement="Association_1i3ia5g">
        <di:waypoint x="704" y="348" />
        <di:waypoint x="727" y="327" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_074g5pk_di" bpmnElement="DriverFoundMessage_CatchMessage">
        <dc:Bounds x="2882" y="372" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2910" y="410" width="60" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1nok9d2_di" bpmnElement="ShowUnavailablePage_Timer">
        <dc:Bounds x="382" y="329" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
